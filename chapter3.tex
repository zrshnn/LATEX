
\chapter{METHODOLOGY}
{\baselineskip=2\baselineskip

In this chapter, the researchers detail the methodology employed to conduct the study, providing a comprehensive overview of the research design, data collection, and analytical procedures.

\section{Research Design}

\begin{figure}[H]
	\centering
	\caption{The Waterfall Model}
	\label{fig:waterfall}
	\includegraphics[width=1\textwidth]{figures/waterfall.png}
\end{figure}

In Figure 3.1, the system creation process is illustrated, utilizing a modified waterfall model. This systematic approach consists of several key stages, commencing with requirements gathering and followed by requirements analysis, hardware development, software development, system design, integration, and testing \& evaluation. This procedural framework acts as a guiding path for researchers to achieve the study's intended objectives.

\section{Planning}
\subsection{Data Collection}

The research team will gather data from both primary and secondary sources. For the primary data, first-hand interactions will be conducted with community residents, power supply providers, and solar energy experts. Community residents, as the primary users of the solar-powered rental station, will provide information on the demand for portable power sources, willingness to adopt a solar-powered system, and feedback on system usability and effectiveness in addressing power interruptions. Power supply providers, such as local electric cooperatives like CAMELCO and MORESCO 2, will provide data on the frequency of power interruptions, challenges in accessing reliable energy, and the overall energy demand in the community. Insights from solar energy experts will focus on technical aspects of solar power systems, including optimal photovoltaic panel configurations, energy storage solutions, and power inverter specifications.

Secondary sources will include academic papers, case studies, industry reports, and other literature related to solar energy, portable power stations, and renewable energy systems. These sources will provide a theoretical foundation and context for the study, ensuring that both practical relevance and technical feasibility are considered in developing the solar-powered rental station system.

\subsection{Data Gathering Procedure}

To obtain relevant qualitative data for the study, a series of in-depth interviews will be conducted with selected community residents using purposive sampling. The interviews will focus on understanding residents’ experiences with frequent power interruptions, the challenges they encounter during interruptions, and their perceptions of a solar-powered rental station as an alternative energy source. These discussions will also explore their reliance on backup power systems and their willingness to adopt renewable energy solutions. Participants will be purposively selected, particularly those who frequently experience power interruptions, depend on electricity for livelihood activities, and have expressed interest in solar technology. Combined with qualitative tools, this approach will ensure a comprehensive understanding of the community’s energy needs, user expectations, and potential areas for improving the design and implementation of the solar-powered rental station system.

\subsection{Data Finding Analysis}

The analysis of the collected data will lead to several important findings. The first will reveal that community residents frequently experience power interruptions that disrupt both household and livelihood activities. These interruptions will highlight common challenges related to the reliability, cost, and accessibility of backup power solutions. Residents will express concerns about their dependence on the unstable power grid and the lack of affordable alternatives during interruptions. The analysis will also uncover the community’s openness to adopting a solar-powered rental solution, recognizing its potential to provide a more sustainable and reliable energy source. Feedback from interviews and discussions will emphasize the need for practical improvements to the proposed system, such as flexible payment options (coin- or app-based), increased power capacity, and user-friendly accessibility. These insights will be vital in assessing the system’s feasibility and refining its design to ensure it effectively addresses the residents’ energy needs.

\section{Design}
\subsection{User Definition}

After the planning phase, the system’s users were identified. For this study, the Community Resident is defined as follows:

\textit{Community Resident - A person residing in a local community who is actively involved or has access to portable power sources during power interruptions or emergencies.}

\subsection{System Requirements}


\begin{longtable}{p{4cm} p{9cm}}
	\caption{System Requirements} \label{tab:SystemRequirements} \\
	\toprule
	\textbf{Category} & \textbf{System Requirement} \\
	\midrule
	\endfirsthead
	
	\toprule
	\textbf{Category} & \textbf{System Requirement} \\
	\midrule
	\endhead
	
	\bottomrule
	\endfoot
	
	Input Requirements & - The system shall collect user information during account registration through designated input fields in the mobile application. \\
	& - The system shall accept user login credentials such as username and password for authentication. \\
	& - The system shall accept rental requests, including power source selection, rental duration, and payment method (coin-based or app-based).\\
	& - The system shall receive telemetry data from each power source, including battery percentage, GPS location, and rental status through the GSM module. \\
	\midrule
	
	Process Requirements & - The system shall process rental transactions by verifying payment completion before authorizing power source access. \\
	& - The system shall generate and transmit an access token or unlock code to the power source upon successful rental approval. \\
	& - The system shall continuously monitor and record the battery level, location, and usage duration of active rentals. \\
	& - The system shall process the return of rented power sources by validating device ID, updating the database, and releasing the final transaction summary. \\
	\midrule
	
	Output Requirements & - The system shall display rental confirmation details such as power source ID, rental duration, and current charge level. \\
	& - The system shall provide real-time status updates on the mobile app, including remaining battery percentage, and device location. \\
	& - The system shall generate notifications for payment confirmation, overdue alerts, and successful returns. \\
	\midrule
	
	Control Requirements & - The system shall implement user authentication and authorization mechanisms to restrict access to registered users only. \\
	& - The system shall validate all rental and payment data to ensure that only completed and legitimate transactions are processed. \\
	\midrule
	
	Performance Requirements & - The system shall maintain fast response time during login, payment processing, and rental activation to ensure a smooth user experience. \\
	& - The system shall provide real-time monitoring and synchronization of power source data through reliable GSM and IoT communication.\\
	& -The system shall ensure continuous operation and high availability to prevent service interruptions during rentals. \\
\end{longtable} 

\subsection{System Design and Architecture}

\begin{figure}[H]
	\centering
	\caption{System Architecture}
	\label{fig:architecture}
	\includegraphics[width=0.7\textwidth]{figures/architecture.png}
\end{figure}

Figure 3.2 illustrates the architecture of the KuRyenta system, a solar-powered, coin-operated, GPS-enabled portable power source. The diagram shows how solar energy is captured by the photovoltaic panels and stored in a \ce{LiFePO4} battery through the solar charge controller. The stored energy is then converted into usable AC power by the power inverter, which is accessible to the user via a coin-operated access system.

The ESP32 microcontroller manages the system's operations, integrating key components such as the GPS module for location tracking and the GSM module for communication with the admin. A coin slot and solenoid lock control the unlocking of the portable power sources, ensuring that users can access the power only after payment is made. The user can interact with the system through a mobile app that displays the battery's charge level and other important information. In essence, the KuRyenta system is designed to provide a sustainable and secure solution for portable power, incorporating solar energy, and coin-based access for a user-friendly and efficient experience.


\subsection{System  Flowchart}



\subsection{Solar Energy Harvesting}

\begin{figure}[H]
	\centering
	\caption{Conversion of sunlight into electrical energy using PV panels and a charge controller}
	\label{fig:solar harvesting}
	\includegraphics[width=1\textwidth]{figures/harvesting.png}
\end{figure}

\subsection{Energy Conversion DC to AC}

\begin{figure}[H]
	\centering
	\caption{Battery DC power converted to AC output via inverter.}
	\label{fig:energy conversion}
	\includegraphics[width=1\textwidth]{figures/conversion.png}
\end{figure}

\subsection{Power Monitoring}

\begin{figure}[H]
	\centering
	\caption{ESP32 measures battery voltage and displays data on LCD.}
	\label{fig:power monitoring}
	\includegraphics[width=1\textwidth]{figures/monitoring.png}
\end{figure}

\subsection{GPS Tracking}

\begin{figure}[H]
	\centering
	\caption{ESP32 receives real-time location data from GPS satellites using GSM Module}
	\label{fig:gps tracking}
	\includegraphics[width=1\textwidth]{figures/tracking.png}
\end{figure}

\section{Develop}

\subsection{Context Level Diagram}

\begin{figure}[H]
	\centering
	\caption{The Context Level Diagram}
	\label{fig:context level diagram}
	\includegraphics[width=\textwidth]{figures/context.png}
\end{figure}

This Figure 3.7 illustrates the Context Level Diagram of the system. The Mobile App serves as the primary interface through which Community Residents interact with the Solar-Powered Rental Station. The Community Resident starts by providing their registration information via the Mobile App, which sends this data to the system. Once registered, the system sends back a registration confirmation and the Mobile App allows users to proceed with rental/payment requests. The Mobile App then facilitates payment transactions where the Community Resident can complete the payment either through a coin-based mechanism or an app-based method. Once the payment transaction is successfully completed, the Mobile App receives a payment confirmation from the System, ensuring the rental is validated. The Community Resident can then use the Mobile App to check the system status, such as battery levels, power source availability, or the remaining rental time. After use, the Community Resident sends a return request via the Mobile App, which then communicates with the System to confirm the power source return. The System logs the return and ensures the process is validated, signaling the completion of the rental session. Additionally, the Mobile App allows the Community Resident to submit feedback on their experience with the service.

On the other side, the System (the Solar-Powered Rental Station) manages the backend of the rental process. It verifies rental requests from Community Residents and authorizes them to rent a power source. It also handles payment processing, ensuring that the payment is verified before the rental is completed. Once payment is confirmed, the System updates the Mobile App with the confirmation. The System also monitors the rented power source, providing live monitoring information, such as the power source’s battery level and available runtime. If the Community Resident fails to return the power source on time or if the power source is running low on battery, the System sends low battery or overdue alerts to both the Mobile App and the Community Resident, prompting them to take action. 

\subsection{Data Flow Diagram}
\begin{figure}[H]
	\centering
	\caption{Data Flow Representation of the Solar-Powered Rental Station Systemm}
	\label{fig:data flow}
	\includegraphics[width=0.8\textwidth]{figures/dataflow.png}
\end{figure}
	
The Figure 3.8 shows the complete process flow of the solar-powered rental station system, illustrating how community residents interact with the mobile application and system database. It begins with the login process, where residents input their login details, which are verified by the system. Once authenticated, the system provides feedback confirming successful login. After logging in, the user proceeds to make a rental request by selecting a power source and specifying the rental duration. The system responds with rental confirmation and product details. The user then moves to the payment process, where payment details are submitted through the app. The system validates the payment, sends a confirmation, and generates an access token that authorizes the user to unlock and use the detachable power source.

Once access is granted, the rental authorization and monitoring phase begins. The system continuously provides updates on the power source’s status, such as battery level and remaining usage time, ensuring that the user can track energy consumption. When the rental period ends, the user then sends a return request, and the system verifies and confirms the return while updating the rental status. After returning the power source, the user proceeds to the feedback process, submitting performance feedback through the app. The system stores the feedback and confirms successful submission. After that, the system records the final rental summary and sends any overdue alerts if the power source is not returned on time. Overall, the diagram presents a clear and structured view of how the user’s actions and system responses are linked throughout the entire rental transaction cycle, which is from login to feedback completion.

\subsection{Use Case Diagram}
 \begin{figure}[H]
 	\centering
 	\caption{Use Case Diagram}
 	\label{fig:use case}
 	\includegraphics[width=1\textwidth]{figures/usecase.png}
 \end{figure}
 
 \subsection{Activity Diagram}
  \begin{figure}[H]
 	\centering
 	\caption{Activity Diagram of the Community Resident}
 	\label{fig:activity}
 	\includegraphics[width=0.7\textwidth]{figures/activity.png}
 \end{figure}
 
 This Activity Diagram shows the step-by-step activity flow of the system from user login to unlocking the portable power source. The process begins with checking account availability. If the user already has an account, they proceed to the login step; otherwise, they must sign up first. After logging in, the system checks if the account is valid. If the account is invalid, the process returns to the login step. If valid, the system verifies the account and displays the dashboard. Next, the system checks if a power source slot is available. If no slot is available, the user remains on the dashboard until one becomes free. If a slot is available, the process continues to the payment step. The system then verifies the payment amount. If the amount entered is not exact, the process returns to the payment step. If the payment is correct, the portable power source is successfully unlocked, completing the process.
 
 Overall, the diagram clearly shows how the user interacts with the system , which starts from account access, validation, and payment, up to unlocking the rented portable power source.
 
  \subsection{Hardware Design Flowchart}
  
  
   
  \subsection{3D Design}
  
    \begin{figure}[H]
  	\centering
  	\caption{Three Dimensional Representation of the System}
  	\label{fig:activity}
  	\includegraphics[width=0.8\textwidth]{figures/3D.png}
  \end{figure}
  
  \subsection{System Design}
  
  
      
 \subsection{Materials and Cost}
     
     \begin{longtable}{p{6cm} p{4cm}}
     	\caption{Hardware Components and Cost} \label{tab:MaterialsAndCost} \\
     	\toprule
     	\textbf{Component} & \textbf{Price} \\ 
     	\midrule
     	\endfirsthead
     	
     	\toprule
     	\textbf{Component} & \textbf{Price} \\ 
     	\midrule
     	\endhead
     	
     	\bottomrule
     	\endfoot
     	
     	Battery x 2 & \textpeso 12,000.00 \\ 
     	Solar Charge Controller & \textpeso 1,000.00 \\ 
     	Solar Panel & \textpeso 2,500.00 \\
     	Pure Sine Wave Inverter x 2 & \textpeso 6,000.00 \\
     	Lithium Battery  Charger & \textpeso 500.00 \\
     	Low Voltage Disconnect module & \textpeso 100.00 \\
   	    Coin Slot Facade & \textpeso 150.00 \\
     	ESP32 x 2 & \textpeso 400.00 \\
     	DC breaker x 3 (Cable, Mounts) & \textpeso 100.00 \\
     	Relay Module 12/ 240v   x 2 & \textpeso 240.00 \\ 
     	Liquid Crystal Display (LCD) x 2 & \textpeso 400.00 \\
     	Relay & \textpeso 50.00 \\
     	GPS module & \textpeso 200.00 \\
     	GSM module & \textpeso 600.00 \\
     	AC breaker & \textpeso 1,200.00 \\
     	Solenoid lock & \textpeso 200 \\
     	Router & \textpeso 1,500.00\\
     	\midrule
     	\textbf{Total} & \textbf{\textpeso 27,140.00} \\
     \end{longtable}
 
Table 2 shows the following materials that will be used in the study.
 
 
